default_install_hook_types:
  - pre-commit
  - pre-push
repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.8.2
    hooks:
      # Keep the order: ruff -> ruff-format
      # Source: https://docs.astral.sh/ruff/integrations/#pre-commit
      - id: ruff
        args: [--fix]
        stages:
          - manual
          - pre-commit
          - pre-push
      - id: ruff-format
        stages:
          - manual
          - pre-commit
          - pre-push
  - repo: https://github.com/PyCQA/bandit
    rev: 1.8.0
    hooks:
      - id: bandit
        stages:
          - manual
          - pre-push
  - repo: local
    hooks:
      - id: pytest
        name: pytest
        entry: pytest
        language: python
        types: [python]
        pass_filenames: false
        always_run: true
        stages:
          - manual
          - pre-push
# Must be installed as a part of toolbox image first
#  - repo: local
#    hooks:
#      - id: pylint
#        name: pylint
#        entry: pylint
#        language: system
#        types: [python]
#        require_serial: true
#        args:
#          [
#            "-rn", # Only display messages
#            "-sn", # Don't display the score
#            "--errors-only", # Display only FATAL and ERROR messages
#          ]
#        stages:
#          - manual
#          - pre-push
